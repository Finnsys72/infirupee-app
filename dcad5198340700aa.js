;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b9edf511-aca4-c428-dda0-55f32f6b081b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,456239,e=>{"use strict";var t,r=e.i(104902),n=e.i(486701),o=e.i(753950),i=e.i(179302),a=e.i(530658),s=e.i(74040),f=function(e,t,r,n){var o=":";e.state.doc.length>n+1&&":"===e.state.sliceDoc(n,n+1)&&(o=""),e.dispatch({changes:{from:r,to:n,insert:t.label+o}})},l=Object.entries(s.nameToEmoji).map(function(e){var t=(0,a._)(e,2);return{label:t[0],detail:t[1],apply:f}});let m=function(e){var t,r=e.matchBefore(/(^|\s):[\w\-+]*/);if(!r)return null;var o=(0,n.syntaxTree)(e.state).resolveInner(e.pos,-1);return"Emoji"===o.name&&(t=o.to-1),{validFor:/[\w\-+]*$/,from:r.from+1,to:t,options:l}};var c=e.i(904851),u=e.i(90659),h=e.i(721281);function d(e,t){return t.sliceString(e.from,e.from+50)}var g=function(){function e(t,r,n,o,i,a,s){(0,c._)(this,e),(0,h._)(this,"node",void 0),(0,h._)(this,"from",void 0),(0,h._)(this,"to",void 0),(0,h._)(this,"spaceBefore",void 0),(0,h._)(this,"spaceAfter",void 0),(0,h._)(this,"type",void 0),(0,h._)(this,"item",void 0),this.node=t,this.from=r,this.to=n,this.spaceBefore=o,this.spaceAfter=i,this.type=a,this.item=s}return(0,u._)(e,[{key:"blank",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=this.spaceBefore;if("Blockquote"===this.node.name)t+=">";else for(var r=this.to-this.from-t.length-this.spaceAfter.length;r>0;r--)t+=" ";return t+(e?this.spaceAfter:"")}},{key:"marker",value:function(e,t){var r="OrderedList"===this.node.name?String(+p(this.item,e)[2]+t):"";return this.spaceBefore+r+this.type+this.spaceAfter}}]),e}();function p(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function v(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=-1,i=e;;){if("ListItem"===i.name){var a=p(i,t),s=+a[2];if(o>=0){if(s!==o+1)return;r.push({from:i.from+a[1].length,to:i.from+a[0].length,insert:String(o+2+n)})}o=s}var f=i.nextSibling;if(!f)break;i=f}}var k={props:[n.foldNodeProp.add(function(e){if(!(!e.is("Block")||e.is("Document")))return function(e,t){return e.type.is("BulletList")&&e.firstChild?{from:t.doc.lineAt(e.firstChild.from).to,to:e.firstChild.to}:{from:t.doc.lineAt(e.from).to,to:e.to}}})]},y=((t=y||{}).Bold="**",t.Italic="_",t),B=function(e,t){var r=t.length;return e.changeByRange(function(n){var i,a=[],s=n;n.empty&&(s=null!=(i=e.wordAt(n.head))?i:n);var f=r,l=r,m={from:s.from,insert:t},c={from:s.to,insert:t},u=e.sliceDoc(s.from-r,s.from)===t,h=e.sliceDoc(s.to,s.to+r)===t;return u&&h&&(f=-r,l=-r,m={from:s.from-r,to:s.from,insert:""},c={from:s.to,to:s.to+r,insert:""}),a.push(m),a.push(c),{changes:a,range:o.EditorSelection.range(s.from+f,s.to+l)}})};function x(e){var t=(0,r.markdown)({codeLanguages:e,addKeymap:!1,extensions:k,base:r.markdownLanguage}),a=t.language,s=t.support;return new n.LanguageSupport(a,[s,o.Prec.high(i.keymap.of(A)),a.data.of({autocomplete:m,commentTokens:{block:{open:"<!--",close:"-->"}}})])}var A=[{key:"Enter",run:function(e){var t=e.state,i=e.dispatch,a=(0,n.syntaxTree)(t),s=t.doc,f=null,l=t.changeByRange(function(e){if(!e.empty||!r.markdownLanguage.isActiveAt(t,e.from))return f={range:e};for(var n=e.from,i=s.lineAt(n),l=function(e,t,r){for(var n=[],o=e;o&&"Document"!==o.name;o=o.parent)("ListItem"===o.name||"Blockquote"===o.name)&&n.push(o);for(var i=[],a=0,s=n.length-1;s>=0;s--){var f=n[s],l=void 0,m=a;if("Blockquote"===f.name&&(l=/^[ \t]*>( ?)/.exec(t.slice(a))))a+=l[0].length,i.push(new g(f,m,a,"",l[1],">",null));else if("ListItem"===f.name&&"OrderedList"===f.parent.name&&(l=/^([ \t]*)\d+([.)])([ \t]*)/.exec(d(f,r)))){var c=l[3],u=l[0].length;c.length>=4&&(c=c.slice(0,c.length-4),u-=4),a+=u,i.push(new g(f.parent,m,a,l[1],c,l[2],f))}else if("ListItem"===f.name&&"BulletList"===f.parent.name&&(l=/^([ \t]*)([-+*])([ \t]{1,4}\[[ xX]\])?([ \t]+)/.exec(d(f,r)))){var h=l[4],p=l[0].length;h.length>4&&(h=h.slice(0,h.length-4),p-=4),a+=p,i.push(new g(f.parent,m,a,l[1],h,l[2]+(l[3]||""),f))}}return i}(a.resolveInner(n,-1),i.text,s);l.length&&l[l.length-1].from>n-i.from;)l.pop();if(!l.length)return f={range:e};var m=l[l.length-1];if(m.to-m.spaceAfter.length>n-i.from)return f={range:e};var c=n>=m.to-m.spaceAfter.length&&!/\S/.test(i.text.slice(m.to));if(m.item&&c&&(m.node.firstChild.to>=n||i.from>0)){var u,h=l.length>1?l[l.length-2]:null,p="";h&&h.item?(u=i.from+h.from,p=h.marker(s,1)):u=i.from+(h?h.to:0);var k=[{from:u,to:n,insert:p}];return"OrderedList"===m.node.name&&v(m.item,s,k,-2),h&&"OrderedList"===h.node.name&&v(h.item,s,k),{range:o.EditorSelection.cursor(u+p.length),changes:k}}if("Blockquote"===m.node.name&&c&&i.from){var y=s.lineAt(i.from-1),B=/>\s*$/.exec(y.text);if(B&&B.index===m.from){var x=t.changes([{from:y.from+B.index,to:y.to},{from:i.from+m.from,to:i.to}]);return{range:e.map(x),changes:x}}}var A=[];"OrderedList"===m.node.name&&v(m.item,s,A);var w=t.lineBreak,L=m.item&&m.item.from<i.from;if(!L||/^[\s\d.)\-+*>]*/.exec(i.text)[0].length>=m.to)for(var b=0,_=l.length-1;b<=_;b++)w+=b!==_||L?l[b].blank():l[b].marker(s,1);for(var S=n;S>i.from&&/\s/.test(i.text.charAt(S-i.from-1));)S--;return A.push({from:S,to:n,insert:w}),{range:o.EditorSelection.cursor(S+w.length),changes:A}});return!f&&(i(t.update(l,{scrollIntoView:!0,userEvent:"input"})),!0)}},{key:"Backspace",run:r.deleteMarkupBackward},{key:"Mod-b",run:function(e){var t=e.state;return(0,e.dispatch)(t.update(B(t,"**"),{scrollIntoView:!0,annotations:o.Transaction.userEvent.of("input")})),!0}},{key:"Mod-i",run:function(e){var t=e.state;return(0,e.dispatch)(t.update(B(t,"_"),{scrollIntoView:!0,annotations:o.Transaction.userEvent.of("input")})),!0}}];e.s(["markdown",()=>x],456239)}]);

//# debugId=b9edf511-aca4-c428-dda0-55f32f6b081b
//# sourceMappingURL=035d677ee1fb4952.js.map