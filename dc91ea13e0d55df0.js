;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="d4f284ad-a034-607f-3c55-920f44299008")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,773240,429190,e=>{"use strict";var t=e.i(530658),r=e.i(276385),n=e.i(878420),i=e.i(569384),a=e.i(973245);e.i(304277);var o=e.i(566901);function s(){var e=(0,i._)(["\n  fragment FeaturedReplCardRepl on Repl {\n    id\n    title\n    description\n    iconUrl\n    timeUpdated\n    imageUrl\n    url\n    templateInfo {\n      imageUrl\n    }\n    publicForkCount\n  }\n"]);return s=function(){return e},e}var l=(0,a.gql)(s());function u(){var e=(0,i._)(["\n  fragment FeaturedReplPreviewRepl on Repl {\n    id\n    ...FeaturedReplCardRepl\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,i._)(["\n  query FeaturedReplPreviewReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isFeaturedRepl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,a.gql)(u(),l),f=(0,a.gql)(c());function m(e){var t=(0,n._)({},d,e);return o.useLazyQuery(f,t)}e.s(["FeaturedReplPreviewReplFragmentDoc",()=>p,"useFeaturedReplPreviewReplInfoLazyQuery",()=>m],429190);var g=e.i(140959),h=e.i(222342),v=e.i(220897),x=e.i(140487),b=e.i(960178),R=e.i(625484);e.s(["default",0,function(e){var n=e.isFeatured,i=e.repl,a=e.orgId,o=e.onCompleted,s=(0,h.default)(),l=s.showError,u=s.showConfirm,c=(0,t._)((0,g.useOrgFeaturedReplsUpdateMutation)({onError:function(){l("Something unexpected happened")},onCompleted:function(e){"Org"===e.updateOrgFeaturedRepl.__typename?(u("Profile updated successfully"),w()):l(e.updateOrgFeaturedRepl.message)}}),2),d=c[0],p=c[1].loading,f=(0,t._)((0,g.useOrgFeaturedReplsDeleteMutation)({onError:function(){l("Something unexpected happened")},onCompleted:function(e){"Org"===e.removeOrgFeaturedRepl.__typename?(u("Removed featured App"),w()):l(e.removeOrgFeaturedRepl.message)}}),2),y=f[0],_=f[1].loading,w=(0,t._)(m({variables:{replId:i.id},fetchPolicy:"network-only",ssr:!1}),1)[0];return a?(0,r.jsxs)(R.View,{justify:"center",gap:16,children:[(0,r.jsx)(b.Text,{variant:"headerDefault",children:n?"Remove from featured repls":"Feature App on your profile"}),(0,r.jsx)(b.Text,{variant:"text",children:n?"Do you want to remove this App from the Featured section?":"Display this App at the top of your organization's profile. Only public Apps can be featured."}),(0,r.jsx)(v.FeaturedReplCard,{repl:i,index:0,hideForkButton:!0}),(0,r.jsxs)(R.View,{row:!0,justify:"space-between",align:"center",children:[(0,r.jsx)(x.Button,{text:"Cancel",onClick:o}),(0,r.jsx)(x.Button,{colorway:"primary",text:n?"Remove":"Feature on profile",onClick:function(){n?y({variables:{input:{orgId:a,replId:i.id}}}):d({variables:{input:{orgId:a,replId:i.id}}}),o()},loading:p||_})]})]}):null}],773240)},957353,e=>{"use strict";var t=e.i(569384);function r(){var e=(0,t._)(["\n  fragment ReplListBoxItemRepl on Repl {\n    id\n    title\n    iconUrl\n    isFeaturedRepl\n    description(plainText: true)\n  }\n"]);return r=function(){return e},e}var n=(0,e.i(973245).gql)(r());e.s(["ReplListBoxItemReplFragmentDoc",()=>n])},140959,e=>{"use strict";var t=e.i(878420),r=e.i(569384),n=e.i(973245),i=e.i(951262),a=e.i(304277);e.i(566901);var o=e.i(957353);function s(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchReplItem on Repl {\n    __typename\n    id\n    ...ReplListBoxItemRepl\n    org {\n      id\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function l(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchInputRepls on ReplConnection {\n    items {\n      ...OrgFeaturedReplsSearchReplItem\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function u(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsUpdate($input: UpdateOrgFeaturedReplInput!) {\n    updateOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsDelete($input: RemoveOrgFeaturedReplInput!) {\n    removeOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,r._)(["\n  query OrgFeaturedReplsSearchInputList(\n    $searchTerm: String!\n    $orgId: String!\n    $cursor: String\n  ) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          repls(\n            input: {\n              filters: { title: { search: $searchTerm }, visibility: public }\n              cursor: $cursor\n            }\n          ) {\n            __typename\n            ... on ReplConnection {\n              ...OrgFeaturedReplsSearchInputRepls\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},f=(0,n.gql)(s(),o.ReplListBoxItemReplFragmentDoc),m=(0,n.gql)(l(),f),g=(0,n.gql)(u(),f);function h(e){var r=(0,t._)({},p,e);return i.useMutation(g,r)}var v=(0,n.gql)(c(),f);function x(e){var r=(0,t._)({},p,e);return i.useMutation(v,r)}var b=(0,n.gql)(d(),m);function R(e){var r=(0,t._)({},p,e);return a.useQuery(b,r)}e.s(["useOrgFeaturedReplsDeleteMutation",()=>x,"useOrgFeaturedReplsSearchInputListQuery",()=>R,"useOrgFeaturedReplsUpdateMutation",()=>h])},220897,e=>{"use strict";var t=e.i(721281),r=e.i(276385),n=e.i(366492),i=e.i(46654),a=e.i(473497),o=e.i(967629),s=e.i(480028),l=e.i(446530),u=e.i(754873),c=e.i(613355),d=e.i(140487),p=e.i(929872),f=e.i(960178),m=e.i(625484),g=e.i(464092),h=e.i(418944),v=e.i(592877),x=function(e){var t,o,s=e.repl,l=e.hideForkButton,u=(0,g.useForkContext)(),c=s.title,x=s.description,R=s.iconUrl,w=s.timeUpdated,I=s.publicForkCount,j=s.url;return(0,r.jsxs)(p.Surface,{css:y.featureCardWrapper,tabIndex:-1,children:[(0,r.jsx)(m.View,{css:y.imageWrapper,children:(0,r.jsx)(a.default,{alt:s.title,imageUrl:null!=(o=s.imageUrl)?o:null==(t=s.templateInfo)?void 0:t.imageUrl,width:135,height:135,style:{borderRadius:"4px 0px 0px 4px"}})}),(0,r.jsxs)(m.View,{css:y.detailsColumn,grow:!0,shrink:!0,children:[(0,r.jsxs)(m.View,{grow:!0,pt:8,row:!0,align:"start",justify:"space-between",children:[(0,r.jsx)(n.default,{href:"".concat(j,"/view"),css:_.link,target:"_blank",children:(0,r.jsxs)(m.View,{css:y.titleWithIcon,grow:!0,shrink:!0,row:!0,gap:12,align:"center",children:[(0,r.jsx)(h.default,{surface:!0,alt:c,size:32,iconUrl:R}),(0,r.jsxs)(m.View,{css:b.titleTimeWrapper,children:[(0,r.jsx)(f.Text,{variant:"headerDefault",color:"default",multiline:!1,children:c}),(0,r.jsxs)(f.Text,{variant:"small",color:"dimmest",multiline:!1,children:["Updated ",(0,i.ago)(w)]})]})]})}),l?null:(0,r.jsxs)(m.View,{css:y.forkCount,pt:8,row:!0,gap:8,align:"center",children:[(0,r.jsx)(m.View,{children:I}),(0,r.jsx)(d.Button,{className:"forkButton",variant:"nofill",css:y.forkButton,text:u.isForking?"Remixing...":"Remix",isDisabled:u.isForking,onClick:function(){u.isForking||u.fork()},disabled:u.isForking,iconLeft:(0,r.jsx)(v.default,{})})]})]}),(0,r.jsx)(m.View,{grow:2,children:(0,r.jsx)(f.Text,{color:"dimmer",maxLines:2,children:x})})]})]})},b=(0,l.cssRecord)({titleTimeWrapper:[c.rcss.color.foregroundDefault,c.rcss.flex.column,c.rcss.flex.shrink(1),c.rcss.minWidth(0)]}),R=(0,o.css)({"::after":{borderRadius:s.tokens.space8,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}}),y=(0,l.cssRecord)({featureCardWrapper:[c.rcss.position.relative,c.rcss.rowWithGap(16),c.rcss.height(135),c.rcss.overflow("hidden"),u.interactive.filledAndOutlined,c.rcss.pr(16),{width:"100%"}],detailsColumn:[{width:"100%"}],titleWithIcon:[c.rcss.minWidth(0),c.rcss.mr(8)],forkCount:[c.rcss.color.foregroundDimmer],forkButton:[c.rcss.zIndex(2),c.rcss.hover({backgroundColor:s.tokens.interactiveBackgroundActive})],imageWrapper:[c.rcss.width(135),(0,t._)({},c.media.max(550),[c.rcss.width(110)])]}),_=(0,l.cssRecord)({link:[R,c.rcss.focusRingOnAfter,c.rcss.flex.growAndShrink(1),c.rcss.minWidth(0)]});e.s(["FeaturedReplCard",()=>x,"default",0,function(e){var t=e.featuredRepls;return t?(0,r.jsxs)(m.View,{gap:8,children:[(0,r.jsx)(f.Text,{variant:"subheadBig",color:"default",children:"Featured Apps"}),(0,r.jsx)(m.View,{gap:16,children:t.items.map(function(e,t){return(0,r.jsx)(g.ForkContextProvider,{forkParams:{trackingData:{forkSource:"orgFeaturedRepl"}},repl:e.repl,children:(0,r.jsx)(x,{repl:e.repl,index:t})},e.repl.id)})})]}):null}])},97992,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},133723,(e,t,r)=>{"use strict";var n=e.r(97992);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},203537,(e,t,r)=>{t.exports=e.r(133723)()},162914,e=>{"use strict";var t=e.i(530658),r=e.i(389959);function n(e,n){var i=(0,t._)((0,r.useState)(e),2),a=i[0],o=i[1];return(0,r.useEffect)(function(){var t=setTimeout(function(){o(e)},n);return function(){clearTimeout(t)}},[e,n]),a}e.s(["default",()=>n])},898740,e=>{"use strict";function t(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}e.s(["default",()=>t])},25195,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(this,arguments)}e.s(["default",()=>t])},438059,e=>{"use strict";function t(e,r){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,r)}function r(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,t(e,r)}e.s(["default",()=>r],438059)},46654,e=>{"use strict";var t=e.i(546284),r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},n={millisecond:"ms",month:"mo"};function i(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,o=Math.round,s=" ago",l=function(e,r){if(i){var a=n[r]||r.substring(0,1);return"".concat(e).concat(a)}return"".concat((0,t.default)(r,e,!0)).concat(s)},u=Date.now()-new Date(e).getTime();if(u<0&&(u*=-1,s=" from now"),a&&u<=a)return"now";var c="millisecond";for(var d in r){if(o(u)<r[d])return l(o(u/r[c]),c);c=d}return l(o(u/r.year),"year")}e.s(["ago",()=>i])},557862,e=>{"use strict";var t=e.i(276385),r=e.i(140487),n=e.i(960178),i=e.i(625484),a=e.i(940745),o=e.i(703505);e.s(["default",0,function(e){return(0,t.jsxs)(i.View,{gap:24,children:[(0,t.jsxs)(n.Header,{variant:"headerDefault",level:2,children:["Delete ",e.name||e.entityType,"?"]}),(0,t.jsxs)(i.View,{gap:8,children:[(0,t.jsxs)(n.Text,{children:["Are you sure you want to delete"," ",e.description?e.description:"this ".concat(e.entityType),"? This cannot be undone."]}),"App"===e.entityType?(0,t.jsx)(n.Text,{children:"Some Apps may take a few minutes to finish deleting."}):null,"extension"===e.entityType?(0,t.jsx)(n.Text,{children:"The extension will be deleted from the store and uninstalled for everyone."}):null]}),(0,t.jsxs)(i.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(r.Button,{text:"Cancel",onClick:e.hideModal}),(0,t.jsx)(r.Button,{dataCy:"delete-modal-confirm-button",disabled:e.isDeleting,iconLeft:e.isDeleting?(0,t.jsx)(a.default,{}):(0,t.jsx)(o.default,{}),onClick:function(){e.delete(),e.hideModal()},text:"Yes, delete ".concat(e.confirmDescription?e.confirmDescription:"this ".concat(e.entityType)),colorway:"negative"})]})]})}])},349597,e=>{"use strict";var t,r=((t={}).AdminTutorialUpdate="admin-tutorial-update",t.CommunityPost="community-post",t.ProfileImage="profile-image",t.ProfileCoverImage="profile-cover-image",t.OrgProfileImage="org-profile-image",t.TemplateIcon="template-icon",t.ReplIcon="repl-icon",t.ReplCoverImage="repl-cover-image",t.TrainingProfileImage="training-profile-image",t);e.s(["DEFAULT_REPL_ICON",()=>"https://icons-util.replit.app/bash.svg","DEFAULT_REPL_IMAGE",()=>"https://icons-util.replit.app/bash.svg","ImageUploadContexts",()=>r])},971072,386594,e=>{"use strict";var t,r=e.i(297083),n=e.i(817556),i=e.i(344188),a=e.i(167626);(t={}).ArrayBuffer="ARRAY_BUFFER",t.BinaryString="BINARY_STRING",t.DataURL="DATA_URL",t.Text="TEXT";var o=function(e,t){return(0,a._)(e,window.File)?new Promise(function(r,n){var i=new window.FileReader;switch(i.onload=function(t){var i;(null==(i=t.target)?void 0:i.result)?r(t.target.result):n(Error('Failed to read file "'.concat(e.name,'"')))},i.onerror=n,t){case"ARRAY_BUFFER":i.readAsArrayBuffer(e);break;case"BINARY_STRING":i.readAsBinaryString(e);break;case"DATA_URL":i.readAsDataURL(e);break;case"TEXT":i.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return o(e,t)}))},s=function(e){return o(e,"ARRAY_BUFFER")},l=function(e){return o(e,"DATA_URL")};function u(e){return(0,r._)(function(){var t;return(0,n._)(this,function(r){switch(r.label){case 0:return[4,l(e)];case 1:if(t=r.sent(),e.size>1e7)throw Error("This image is over the ".concat(10,"MB maximum"));if(!t)throw Error("Expected file");return[2,t]}})})()}function c(e,t){return(0,r._)(function(){return(0,n._)(this,function(r){switch(r.label){case 0:return[4,(0,i.postJson)("/data/images/upload",{image:e,context:t})];case 1:return[2,r.sent()]}})})()}e.s(["readFileAsArrayBuffer",()=>s,"readFileAsDataURL",()=>l],386594);var d=["image/png","image/jpeg","image/gif","image/webp"];e.s(["ACCEPTABLE_IMAGE_UPLOAD_TYPES",()=>d,"UPLOAD_LIMIT_BYTES",()=>1e7,"postImage",()=>c,"readImageAsDataURL",()=>u],971072)},422025,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(389959),a=e.i(971072);function o(e){var o=e.onUploadPreview,s=e.onUpload,l=e.onError,u=(0,r._)((0,i.useState)(!1),2),c=u[0],d=u[1];return{isLoading:c,uploadImage:(0,i.useCallback)(function(e,r){return(0,t._)(function(){var t,i,u,c,p,f;return(0,n._)(this,function(n){switch(n.label){case 0:if(d(!0),"image/svg+xml"===e.type)return l(Error("SVG images are not allowed")),[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.readImageAsDataURL)(e)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),l(Error("This image is over the ".concat(a.UPLOAD_LIMIT_BYTES/1e6,"MB maximum"))),[2,!1];case 4:o({dataUrl:t}),i=null,n.label=5;case 5:return n.trys.push([5,7,,8]),[4,(0,a.postImage)(t,r)];case 6:return i=n.sent(),[3,8];case 7:return u=n.sent(),c="Something went wrong",c=u.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":u.message,o({dataUrl:""}),d(!1),l(Error(c)),[2,!1];case 8:if(p=i.id,f=i.url,"number"!=typeof p)throw Error("Expected id");if("string"!=typeof f)throw Error("Expected url");d(!1),n.label=9;case 9:return n.trys.push([9,11,,12]),[4,s({id:p,url:f})];case 10:return n.sent(),[3,12];case 11:return l(n.sent()),[2,!1];case 12:return[2,!0]}})})()},[l,s,o])}}e.s(["default",()=>o])},473497,e=>{"use strict";var t=e.i(878420),r=e.i(530658),n=e.i(276385),i=e.i(389959),a=e.i(932200),o=e.i(967629),s=e.i(446530),l=e.i(613355),u=e.i(929872),c=e.i(211397),d=e.i(606867),p=(0,o.css)([l.rcss.overflow("hidden"),l.rcss.position.relative]);function f(e){var o,s,l,p,f=e.width,g=e.height,h=e.alt,v=e.imageUrl,x=e.style,b=(0,i.useRef)(null);f=void 0===(l=(s=(o=(0,r._)((0,a.useContextProps)({width:f,height:g,alt:h},b,d.IconContext),2))[0]).width)?32:l,g=void 0===(p=s.height)?32:p,h=s.alt,b=o[1];var R=f<32?4:8;return(0,n.jsx)(u.Surface,{elevated:!0,css:m.imageSurface,style:(0,t._)({borderRadius:R,width:f,height:g},x),children:(0,n.jsx)(c.default,{alt:h,src:v,width:f,height:g,objectFit:"contain"})})}var m=(0,s.cssRecord)({imageSurface:[p]});e.s(["default",()=>f])},964701,e=>{e.v({dropZone:"FileUploadInput-module__9Ex1JG__dropZone"})},965710,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(886513),i=e.i(276385),a=e.i(389959),o=e.i(530658),s=e.i(932200),l=e.i(2800),u=e.i(248033),c=e.i(493800),d=e.i(167768),p=e.i(638086),f=e.i(99906),m=e.i(278052),g=e.i(434080),h=e.i(484437),v=e.i(560750),x=e.i(238986),b=new Map;function R(e,t){var r=b.get(e);if(!r){var n=new Set,i=function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)(0,a.value)(e)}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}};r={listener:i,handlers:n},b.set(e,r),document.addEventListener(e,i)}return r.handlers.add(t),function(){r.handlers.delete(t),0===r.handlers.size&&(document.removeEventListener(e,r.listener),b.delete(e))}}var y=e.i(674310),_=e.i(330666),w=e.i(830389),I=e.i(886982),j=e.i(801923),E=e.i(72746),T=e.i(699097),F=(0,a.createContext)(null),C=(0,a.forwardRef)(function(e,n){var i,b,C,D,U,A,P,S,O,k,L,B,M=e.isDisabled,V=void 0!==M&&M;e=(B=(0,o._)((0,s.useContextProps)(e,n,F),2))[0],n=B[1];var z=(0,w.useObjectRef)(n),N=(0,a.useRef)(null),W=(0,c.useDrop)((0,r._)((0,t._)({},e),{ref:N,hasDropButton:!0})),G=W.dropProps,q=W.dropButtonProps,$=W.isDropTarget,H=(0,d.useButton)(q||{},N).buttonProps,Y=(0,p.useHover)(e),Z=Y.hoverProps,X=Y.isHovered,Q=(0,f.useFocusRing)(),J=Q.focusProps,K=Q.isFocused,ee=Q.isFocusVisible,et=(0,m.useLocalizedStringFormatter)((i=l.default)&&i.__esModule?i.default:i,"react-aria-components"),er=(0,I.useSlotId)(),en=e["aria-label"]||et.format("dropzoneLabel"),ei=[er,e["aria-labelledby"]].filter(Boolean).join(" "),ea=(0,j.useLabels)({"aria-label":en,"aria-labelledby":ei}),eo=(C=(b={isDisabled:V,onPaste:function(t){var r;return null==(r=e.onDrop)?void 0:r.call(e,{type:"drop",items:t,x:0,y:0,dropOperation:"copy"})}}).isDisabled,D=(0,a.useRef)(!1),U=(0,x.useFocus)({onFocusChange:function(e){D.current=e}}).focusProps,A=(0,h.useEffectEvent)(function(e){D.current&&b.getItems&&e.preventDefault()}),P=(0,h.useEffectEvent)(function(e){if(D.current&&b.getItems&&(e.preventDefault(),e.clipboardData)){var t;(0,g.writeToDataTransfer)(e.clipboardData,b.getItems({action:"copy"})),null==(t=b.onCopy)||t.call(b)}}),S=(0,h.useEffectEvent)(function(e){D.current&&b.onCut&&b.getItems&&e.preventDefault()}),O=(0,h.useEffectEvent)(function(e){D.current&&b.onCut&&b.getItems&&(e.preventDefault(),e.clipboardData&&((0,g.writeToDataTransfer)(e.clipboardData,b.getItems({action:"cut"})),b.onCut()))}),k=(0,h.useEffectEvent)(function(e){D.current&&b.onPaste&&e.preventDefault()}),L=(0,h.useEffectEvent)(function(e){if(D.current&&b.onPaste&&(e.preventDefault(),e.clipboardData)){var t=(0,g.readFromDataTransfer)(e.clipboardData);b.onPaste(t)}}),(0,a.useEffect)(function(){if(!C)return(0,v.chain)(R("beforecopy",A),R("copy",P),R("beforecut",S),R("cut",O),R("beforepaste",k),R("paste",L))},[C,A,P,S,O,k,L]),{clipboardProps:U}).clipboardProps,es=(0,s.useRenderProps)((0,r._)((0,t._)({},e),{values:{isHovered:X,isFocused:K,isFocusVisible:ee,isDropTarget:$,isDisabled:V},defaultClassName:"react-aria-DropZone"})),el=(0,E.filterDOMProps)(e);return delete el.id,a.default.createElement(s.Provider,{values:[[u.TextContext,{id:er,slot:"label"}]]},a.default.createElement("div",(0,r._)((0,t._)({},(0,y.mergeProps)(G,Z,el),es),{slot:e.slot||void 0,ref:z,onClick:function(e){for(var t,r,n=e.target;n&&(null==(t=z.current)?void 0:t.contains(n))&&!(0,T.isFocusable)(n);){if(n===z.current){null==(r=N.current)||r.focus();break}n=n.parentElement}},"data-hovered":X||void 0,"data-focused":K||void 0,"data-focus-visible":ee||void 0,"data-drop-target":$||void 0,"data-disabled":V||void 0}),a.default.createElement(_.VisuallyHidden,null,a.default.createElement("button",(0,r._)((0,t._)({},(0,y.mergeProps)(H,J,eo,ea)),{ref:N}))),es.children))}),D=e.i(964304),U=e.i(112974),A=(0,a.forwardRef)(function(e,i){var o=e.onSelect,s=e.acceptedFileTypes,l=e.allowsMultiple,u=e.defaultCamera,c=e.children,d=e.acceptDirectory,p=(0,n._)(e,["onSelect","acceptedFileTypes","allowsMultiple","defaultCamera","children","acceptDirectory"]),f=(0,w.useObjectRef)(i),m=(0,E.filterDOMProps)(p);return a.default.createElement(a.default.Fragment,null,a.default.createElement(U.PressResponder,{onPress:function(){var e,t;(null==(e=f.current)?void 0:e.value)&&(f.current.value=""),null==(t=f.current)||t.click()}},c),a.default.createElement(D.Input,(0,r._)((0,t._)({},m),{type:"file",ref:f,style:{display:"none"},accept:null==s?void 0:s.toString(),onChange:function(e){return null==o?void 0:o(e.target.files)},capture:u,multiple:l,webkitdirectory:d?"":void 0})))}),P=e.i(964701),S=(0,a.forwardRef)(function(e,n){return(0,i.jsx)(C,(0,r._)((0,t._)({ref:n},e),{className:P.default.dropZone}))}),O=function(e){var a=e.acceptedFileTypes,o=e.allowsMultiple,s=e.acceptDirectory,l=e.dropZoneDisabled,u=e.children,c=e.onDrop,d=e.onSelect,p=(0,n._)(e,["acceptedFileTypes","allowsMultiple","acceptDirectory","dropZoneDisabled","children","onDrop","onSelect"]);return(0,i.jsx)(S,{onDrop:c,isDisabled:void 0!==l&&l,children:(0,i.jsx)(A,(0,r._)((0,t._)({acceptedFileTypes:a,allowsMultiple:void 0!==o&&o,acceptDirectory:void 0!==s&&s,onSelect:d},p),{children:u}))})};e.s(["FileUploadInput",()=>O],965710)},49578,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(878420),s=e.i(569384),l=e.i(973245),u=e.i(951262);function c(){var e=(0,s._)(["\n  mutation ReplCoverImageUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,l.gql)(c()),f=e.i(349597),m=e.i(422025),g=e.i(222342),h=e.i(971072),v=e.i(473497),x=e.i(446530),b=e.i(613355),R=e.i(428596),y=e.i(140487),_=e.i(965710),w=e.i(960178),I=e.i(751273),j=e.i(625484),E=(0,x.cssRecord)({buttonWrapper:[b.rcss.flex.grow(1),b.rcss.flex.shrink(1),{flexBasis:0}],button:[b.rcss.width("100%")]});e.s(["default",0,function(e){var s,l,c=e.replId,x=e.authz,b=e.initialImageUrl,T=e.originImageUrl,F=(0,g.default)(),C=F.showError,D=F.showConfirm,U=(0,R.useIdSeed)()("cover-image"),A=(0,r._)((0,a.useState)(b),2),P=A[0],S=A[1],O=(0,r._)((s={onError:function(){C("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&D("App cover image updated successfully")}},l=(0,o._)({},d,s),u.useMutation(p,l)),2),k=O[0],L=O[1].loading,B=P!==T,M=(0,m.default)({onUpload:function(e){var r=e.url;return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,imageUrl:r}}})];case 1:return e.sent(),S(r),[2]}})})()},onUploadPreview:function(){D("Uploading repl cover image")},onError:function(e){return C(e.message)}});return(0,a.useEffect)(function(){S(b)},[b]),(0,i.jsxs)(j.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:U,children:(0,i.jsx)(w.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Cover image"})}),(0,i.jsxs)(j.View,{row:!0,gap:16,align:"center",children:[(0,i.jsx)(v.default,{alt:"",width:64,height:48,imageUrl:P}),(0,i.jsxs)(j.View,{grow:!0,shrink:!0,row:!0,gap:16,children:[(0,i.jsx)(j.View,{css:E.buttonWrapper,children:(0,i.jsx)(_.FileUploadInput,{onSelect:function(e){e&&e.length>0&&M.uploadImage(e[0],f.ImageUploadContexts.ReplCoverImage)},acceptedFileTypes:h.ACCEPTABLE_IMAGE_UPLOAD_TYPES,dropZoneDisabled:!0,children:(0,i.jsx)(I.Tooltip,{tooltip:"Not allowed to update image",isDisabled:x.isAuthorized,children:(0,i.jsx)(y.Button,{"aria-labelledby":U,text:B?"Replace image":"Upload image",disabled:!x.isAuthorized,css:E.button,size:"small",loading:L})})})}),B?(0,i.jsx)(j.View,{css:E.buttonWrapper,children:(0,i.jsx)(y.Button,{text:"Reset",size:"small",disabled:!x.isAuthorized,onClick:function(){return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,imageUrl:null}}})];case 1:return e.sent(),[2]}})})()},css:E.button,loading:L})}):null]})]})]})}],49578)},445016,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(878420),s=e.i(569384),l=e.i(973245),u=e.i(951262);function c(){var e=(0,s._)(["\n  mutation ReplIconUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        iconUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,l.gql)(c()),f=e.i(349597),m=e.i(422025),g=e.i(222342),h=e.i(971072),v=e.i(446530),x=e.i(613355),b=e.i(428596),R=e.i(140487),y=e.i(965710),_=e.i(960178),w=e.i(751273),I=e.i(625484),j=e.i(418944),E=(0,v.cssRecord)({buttonWrapper:[{flexBasis:0}],button:[x.rcss.width("100%")]});e.s(["default",0,function(e){var s,l,c=e.replId,v=e.authz,x=e.initialIconUrl,T=e.originIconUrl,F=(0,g.default)(),C=F.showError,D=F.showConfirm,U=(0,b.useIdSeed)()("repl-icon"),A=(0,r._)((0,a.useState)(x),2),P=A[0],S=A[1],O=(0,r._)((s={onError:function(){C("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&D("App icon updated successfully")}},l=(0,o._)({},d,s),u.useMutation(p,l)),2),k=O[0],L=O[1].loading,B=P!==T,M=(0,m.default)({onUpload:function(e){var r=e.url;return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,iconUrl:r}}})];case 1:return e.sent(),S(r),[2]}})})()},onUploadPreview:function(){D("Uploading App icon")},onError:function(e){return C(e.message)}});return(0,a.useEffect)(function(){S(x)},[x]),(0,i.jsxs)(I.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:U,children:(0,i.jsx)(_.Text,{variant:"small",color:"dimmer",multiline:!1,children:"App icon"})}),(0,i.jsxs)(I.View,{row:!0,gap:16,align:"center",children:[(0,i.jsx)(j.default,{alt:"",size:32,iconUrl:null!=P?P:""}),(0,i.jsx)(I.View,{grow:!0,shrink:!0,row:!0,gap:16,children:(0,i.jsx)(I.View,{css:E.buttonWrapper,grow:!0,shrink:!0,children:(0,i.jsx)(y.FileUploadInput,{onSelect:function(e){e&&e.length>0&&M.uploadImage(e[0],f.ImageUploadContexts.ReplIcon)},acceptedFileTypes:h.ACCEPTABLE_IMAGE_UPLOAD_TYPES,dropZoneDisabled:!0,children:(0,i.jsx)(w.Tooltip,{tooltip:"Not allowed to update icon",isDisabled:v.isAuthorized,children:(0,i.jsx)(R.Button,{text:B?"Replace icon":"Upload icon",disabled:!v.isAuthorized,css:E.button,size:"small",loading:L})})})})})]})]})}],445016)},236379,e=>{"use strict";var t=e.i(297083),r=e.i(878420),n=e.i(64386),i=e.i(530658),a=e.i(817556),o=e.i(276385),s=e.i(389959),l=e.i(368964),u=e.i(312087),c=e.i(322823),d=e.i(222342),p=e.i(200527),f=e.i(973519),m=e.i(49578),g=e.i(445016),h=e.i(420802),v=e.i(446530),x=e.i(613355),b=e.i(428596),R=e.i(140487),y=e.i(721321),_=e.i(607278),w=e.i(960178),I=e.i(625484),j=e.i(836224),E=e.i(616278),T=e.i(987154),F=e.i(940745),C=e.i(530310),D=e.i(42458),U=function(e){return 0===e.length?{message:"Title cannot be blank"}:e.length>60?{message:"Title cannot be greater than ".concat(60," characters")}:void 0},A=function(e){if(e.length>h.REPL_DESCRIPTION_MAX_LENGTH)return{message:"Description cannot be greater than ".concat(h.REPL_DESCRIPTION_MAX_LENGTH," characters")}},P=(0,v.cssRecord)({inputLabel:[x.rcss.flex.row,x.rcss.justify.spaceBetween,x.rcss.align.end],descriptionInput:[x.rcss.minHeight(96),x.rcss.maxHeight(256),{resize:"vertical"}],inputErrorIcon:[x.rcss.color.accentNegativeStronger],inputErrorMessage:[x.rcss.flex.growAndShrink(1),x.rcss.color.accentNegativeStronger]});function S(e){var t=e.error,r=e.id;return t?(0,o.jsxs)(I.View,{id:r,row:!0,gap:4,align:"center",children:[(0,o.jsx)(D.default,{css:P.inputErrorIcon}),(0,o.jsx)(w.Text,{css:P.inputErrorMessage,children:t.message})]}):null}function O(e){var p,v,x,b,y,T,C,D=e.repl,O=e.onDone,L=(0,d.default)(),B=L.showConfirm,M=L.showError,V=(0,i._)((0,u.useEditReplFormEditMutation)({onCompleted:function(){B("App edited"),O()},onError:function(e){M(e.message)}}),2),z=V[0],N=V[1].loading,W=(0,i._)((0,u.useEditReplFormEditMutation)({onCompleted:function(){B("Updated privacy")},onError:function(e){M(e.message)}}),2),G=W[0],q=W[1].loading,$=(null==(p=D.org)?void 0:p.type)!=="team"&&(D.authorizations.editVisibility.isAuthorized||D.authorizations.editVisibility.code===l.ReplAuthorizationCode.RequiresActiveSubscription),H=(0,c.useFormField)(D.title,U),Y=(0,c.useFormField)(null!=(T=D.description)?T:"",A),Z=(0,s.useId)(),X=(0,s.useId)(),Q=(0,s.useId)(),J=(0,s.useId)(),K=!!H.error||!!Y.error,ee=(0,f.useGlobalModal)().show,et=(null==(v=D.owner)?void 0:v.__typename)==="Team";return(0,o.jsxs)(I.View,{gap:32,children:[(0,o.jsxs)(I.View,{tag:"form",gap:24,onSubmit:function(e){e.preventDefault(),N||null==H.validate()&&null==Y.validate()&&z({variables:{input:{id:D.id,title:H.value,description:Y.value}}})},children:[(0,o.jsx)(w.Header,{variant:"headerDefault",level:2,children:"Edit App"}),(0,o.jsxs)(I.View,{gap:4,children:[(0,o.jsxs)(I.View,{css:P.inputLabel,children:[(0,o.jsx)("label",{htmlFor:Z,children:(0,o.jsx)(w.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Name"})}),(0,o.jsx)(j.default,{maxLength:60,value:H.value,hideLabel:!0})]}),(0,o.jsx)(_.Input,{style:{cursor:D.authorizations.editMetadata.isAuthorized?"auto":"not-allowed"},disabled:!D.authorizations.editMetadata.isAuthorized,maxLength:60,value:H.value,onChange:function(e){return H.setValue(e.target.value)},spellCheck:!1,id:Z,"aria-describedby":X}),(0,o.jsx)(S,{id:X,error:H.error})]}),(0,o.jsxs)(I.View,{gap:4,children:[(0,o.jsxs)(I.View,{css:P.inputLabel,children:[(0,o.jsx)("label",{htmlFor:Q,children:(0,o.jsx)(w.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,o.jsx)(j.default,{maxLength:h.REPL_DESCRIPTION_MAX_LENGTH,value:Y.value,hideLabel:!0})]}),(0,o.jsx)(_.MultiLineInput,{disabled:!D.authorizations.editMetadata.isAuthorized,maxLength:h.REPL_DESCRIPTION_MAX_LENGTH,value:Y.value,onChange:function(e){return Y.setValue(e.target.value)},placeholder:"What does this App do?",css:P.descriptionInput,id:Q,"aria-describedby":J}),(0,o.jsx)(S,{id:J,error:Y.error})]}),(0,o.jsxs)(I.View,{row:!0,gap:12,justify:"end",children:[(0,o.jsx)(R.Button,{type:"button",text:"Cancel",onClick:O}),(0,o.jsx)(R.Button,{type:"submit",iconLeft:N?(0,o.jsx)(F.default,{}):(0,o.jsx)(E.default,{}),disabled:N||K,text:"Save",colorway:"primary"})]})]}),(0,o.jsxs)(I.View,{gap:16,children:[(0,o.jsx)(g.default,{replId:D.id,authz:D.authorizations.editMetadata,initialIconUrl:D.iconUrl,originIconUrl:null==(x=D.templateInfo)?void 0:x.iconUrl}),(0,o.jsx)(m.default,{replId:D.id,authz:D.authorizations.editMetadata,initialImageUrl:null!=(C=D.imageUrl)?C:null==(b=D.templateInfo)?void 0:b.imageUrl,originImageUrl:null==(y=D.templateInfo)?void 0:y.imageUrl})]}),$?(0,o.jsx)(k,{isPrivate:D.isPrivate,onChange:function(){return(0,t._)(function(){var e,t;return(0,a._)(this,function(i){switch(i.label){case 0:if(q)return[2];if(t=!D.isPrivate,D.authorizations.editVisibility.isAuthorized||!1===t)return[2,G({variables:{input:{id:D.id,isPrivate:!D.isPrivate}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,n._)((0,r._)({},D),{isPrivate:!D.isPrivate})}}})];if(D.authorizations.editVisibility.code!==l.ReplAuthorizationCode.RequiresActiveSubscription||(null==(e=D.org)?void 0:e.__typename)==="Org")return[3,2];return[4,ee("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"workspace_info_modal"}}})];case 1:return i.sent(),[3,3];case 2:M(D.authorizations.editVisibility.message),i.label=3;case 3:return[2]}})})()},isTeam:et}):null]})}function k(e){var t=(0,b.useIdSeed)();return(0,o.jsxs)(I.View,{gap:8,children:[(0,o.jsxs)(y.ButtonGroup,{tag:"fieldset",name:t("privacy"),value:e.isPrivate.toString(),onChange:e.onChange,row:!0,primary:!0,stretch:!0,children:[(0,o.jsx)(y.ButtonGroupItem,{id:t("false"),value:"false",text:"Public",icon:(0,o.jsx)(T.default,{})}),(0,o.jsx)(y.ButtonGroupItem,{id:t("true"),value:"true",text:"Private",icon:(0,o.jsx)(C.default,{})})]}),(0,o.jsx)(w.Text,{variant:"small",color:"dimmest",children:(0,p.default)(e.isPrivate,e.isTeam)})]})}e.s(["EditReplForm",()=>O,"PrivacyToggle",()=>k])}]);

//# debugId=d4f284ad-a034-607f-3c55-920f44299008
//# sourceMappingURL=f65373c90e185cae.js.map